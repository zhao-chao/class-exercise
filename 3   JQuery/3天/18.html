<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<div>
			<input type="checkbox" id="btn" /> <button id="btn1">全选</button>
			<button id="btn2">反选</button>
		</div>
		<ul>
			<li>
				<input type="checkbox" />
			</li>
			<li>
				<input type="checkbox" />
			</li>
			<li>
				<input type="checkbox" />
			</li>
		</ul>
		<script src="./jquery.min.js"></script>
		<script>
			// 要求1：点击全选的checkbox，让下面所有人名前的checkbox的选中状态和全选的一致

			// 要求2：点击反选按钮，所有人名前的checkbox的选中状态取反

			// 要求3：点击所有人名前的checkbox，判断全选的选中状态

			// 要求4：代码规范

			// 全选
			$('#btn1').click(function () {
				var flag = $('input').prop('checked')

				$('input').prop('checked', true)
				if (flag) {
					$('input').prop('checked', false)
				}
			})
			// 反选
			$('#btn2').click(function () {
				$('ul li input').each(function (index, vul) {
					var flag = $(vul).prop('checked')
					flag = !flag
					$(vul).prop('checked', flag)
				})
				if ($('ul li input:checked').length == 0) {
					$('#btn').prop('checked', false)
				}

				if (
					$('ul li input').length == $('ul li input:checked').length
				) {
					$('#btn').prop('checked', true)
				} else {
					$('#btn').prop('checked', false)
				}
			})
			// 全选
			$('ul li input').change(function (index, vul) {
				if (
					$('ul li input').length == $('ul li input:checked').length
				) {
					$('#btn').prop('checked', true)
				} else {
					$('#btn').prop('checked', false)
				}
			})
		</script>
	</body>
</html>
